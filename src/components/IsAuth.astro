---
import { getCurrentUser, getRecentPosts } from "../scripts/supabaseClient";

const user = await getCurrentUser();
const { data: posts, error } = await getRecentPosts();

if (error) {
  console.error("Error fetching posts:", error);
}

if (!user) {
  return Astro.redirect("/signin");
}
---


<slot />
